<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PlayTanuki — Сервер</title>
<link rel="icon" type="image/png" href="browsericon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
  /* ═══ RESET ═══ */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  /* ═══ FONTS ═══ */
  @font-face {
    font-family: 'MinecraftFive';
    src: url('minecraft-five-c.otf.woff2') format('woff2');
    font-weight: normal; font-style: normal;
  }
  @font-face {
    font-family: 'MinecraftFive';
    src: url('minecraft-five-bold-c.otf.woff2') format('woff2');
    font-weight: bold; font-style: normal;
  }
  @font-face {
    font-family: 'MinecraftSeven';
    src: url('Minecraft Seven_2.ttf') format('truetype');
    font-weight: normal; font-style: normal;
  }
  @font-face {
    font-family: 'MinecraftFiveOG';
    src: url('minecraft-five.otf.woff2') format('woff2');
    font-weight: normal; font-style: normal;
  }
  @font-face {
    font-family: 'MinecraftFiveOG';
    src: url('minecraft-five-bold.otf.woff2') format('woff2');
    font-weight: bold; font-style: normal;
  }
  @font-face {
    font-family: 'MinecraftTen';
    src: url('MinecraftTen-VGORe.ttf') format('truetype');
    font-weight: normal; font-style: normal;
  }

  /* ═══ TOKENS ═══ */
  :root {
    --color-primary:    #3c8527;
    --color-primary-lt: #4a9e30;
    --color-tertiary:   #a0e080;
    --color-shark:      #1d1e1e;
    --color-soil:       #313131;
    --color-tundora:    #404040;
    --color-scorpion:   #5a5a5a;
    --color-gravel:     #757575;
    --color-dusty:      #949494;
    --color-hint:       #d7ccc8;
    --color-white:      #fff;

    --font-body:    'Noto Sans', Arial, Helvetica, sans-serif;
    --font-mc-five: 'MinecraftFiveOG', 'MinecraftFive', 'Courier New', monospace;
    --font-mc-seven:'MinecraftSeven', 'Courier New', monospace;
    --font-mc-ten:  'MinecraftTen', 'MinecraftSeven', 'Courier New', monospace;

    --bdr: 4px;
  }

  html { scroll-behavior: smooth; }

  body {
    background-color: var(--color-soil);
    background-image: url('minecraft.wiki/longurls/Background-55659f57.png');
    background-repeat: repeat;
    background-size: 512px 512px;
    image-rendering: pixelated;
    color: var(--color-white);
    font-family: var(--font-body);
    font-size: 16px;
    line-height: 1.5;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
  }

  /* ═══ HEADER ═══ */
  .site-header {
    width: 100%;
    min-height: 280px;
    background-image: url('minecraft.wiki/longurls/Header-bac-59de7ae.png');
    background-repeat: repeat-x;
    background-size: auto 280px;
    background-position: center top;
    image-rendering: pixelated;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 24px 20px;
    position: relative;
  }
  .site-header::after {
    content: none;
  }
  .site-header a {
    display: flex;
    justify-content: center;
  }
  .header-logo {
    width: 500px;
    max-width: 85%;
    image-rendering: pixelated;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,.6));
  }

  /* ═══ MAIN CONTENT ═══ */
  .main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 48px 24px 40px;
  }

  /* ── Server Status ── */
  .server-status {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: var(--font-mc-seven);
    font-size: 14px;
    color: var(--color-dusty);
    text-shadow: 2px 2px 0 rgba(0,0,0,.6);
    margin-bottom: 20px;
    letter-spacing: 1px;
  }
  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 1px;
    background: var(--color-scorpion);
    flex-shrink: 0;
    image-rendering: pixelated;
  }
  .status-dot.online {
    background: #4ade80;
    box-shadow: 0 0 6px rgba(74,222,128,.5);
  }
  .status-dot.offline {
    background: #e04848;
    box-shadow: 0 0 6px rgba(224,72,72,.5);
  }

  /* ── Server IP ── */
  .server-ip-box {
    text-align: center;
    margin-bottom: 40px;
  }
  .server-ip-label {
    font-family: var(--font-mc-five);
    font-size: 14px;
    color: var(--color-dusty);
    text-shadow: 2px 2px 0 rgba(0,0,0,.8);
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 12px;
  }
  .server-ip {
    font-family: var(--font-mc-five);
    font-size: 28px;
    color: var(--color-tertiary);
    text-shadow: 3px 3px 0 rgba(0,0,0,.6);
    letter-spacing: 2px;
    background: rgba(0,0,0,.35);
    border: 2px solid var(--color-tundora);
    padding: 14px 32px;
    cursor: pointer;
    transition: border-color .2s, background .2s;
    user-select: all;
    position: relative;
  }
  .server-ip:hover {
    border-color: var(--color-primary);
    background: rgba(0,0,0,.5);
  }
  .server-ip-copied {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--font-mc-seven);
    font-size: 15px;
    color: var(--color-tertiary);
    background: rgba(0,0,0,.7);
    padding: 4px 12px;
    opacity: 0;
    transition: opacity .3s;
    pointer-events: none;
  }
  .server-ip-copied.show { opacity: 1; }

  /* ── Edition Toggle ── */
  .edition-toggle {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
  }
  .edition-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-family: var(--font-body);
    font-size: 16px;
    font-weight: 600;
    line-height: 1;
    text-decoration: none;
    cursor: pointer;
    border: none;
    outline: none;
    padding: 14px 32px;
    transition: filter .12s, background .12s, color .12s;
    -webkit-font-smoothing: antialiased;
    clip-path: polygon(
      0 var(--bdr),
      var(--bdr) var(--bdr),
      var(--bdr) 0,
      calc(100% - var(--bdr)) 0,
      calc(100% - var(--bdr)) var(--bdr),
      100% var(--bdr),
      100% calc(100% - var(--bdr)),
      calc(100% - var(--bdr)) calc(100% - var(--bdr)),
      calc(100% - var(--bdr)) 100%,
      var(--bdr) 100%,
      var(--bdr) calc(100% - var(--bdr)),
      0 calc(100% - var(--bdr))
    );
    box-shadow:
      inset 0 -3px 0 rgba(0,0,0,.25),
      inset 0  3px 0 rgba(255,255,255,.15);
  }
  .edition-btn:active {
    box-shadow:
      inset 0 0 0 100px rgba(255,255,255,.2),
      inset 0 3px 0 rgba(0,0,0,.15);
  }
  .edition-btn.active {
    background: var(--color-primary);
    color: var(--color-white);
  }
  .edition-btn.active:hover {
    background: var(--color-primary-lt);
  }
  .edition-btn.inactive {
    background: var(--color-tundora);
    color: var(--color-dusty);
  }
  .edition-btn.inactive:hover {
    background: var(--color-scorpion);
    color: var(--color-white);
  }

  /* ── Port info ── */
  .edition-info {
    font-family: var(--font-mc-five);
    font-size: 14px;
    color: var(--color-dusty);
    text-shadow: 2px 2px 0 rgba(0,0,0,.6);
    letter-spacing: 1px;
    min-height: 22px;
    margin-top: 4px;
    text-align: center;
    transition: opacity .3s;
  }
  .edition-info span {
    color: var(--color-tertiary);
  }

  /* ── Nav grid ── */
  .nav-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: 100%;
    max-width: 520px;
    margin-top: 48px;
  }
  .nav-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    text-decoration: none;
    background: rgba(0,0,0,.35);
    border: 2px solid var(--color-tundora);
    padding: 18px 12px;
    transition: border-color .2s, background .2s;
    text-align: center;
    min-height: 80px;
  }
  .nav-card:hover {
    border-color: var(--color-primary);
    background: rgba(0,0,0,.5);
  }
  .nav-card-icon {
    width: 22px;
    height: 22px;
    color: var(--color-dusty);
    flex-shrink: 0;
  }
  .nav-card:hover .nav-card-icon { color: var(--color-tertiary); }
  .nav-card-label {
    font-family: var(--font-mc-five);
    font-size: 10px;
    color: var(--color-hint);
    text-shadow: 2px 2px 0 rgba(0,0,0,.6);
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  .nav-card:hover .nav-card-label { color: var(--color-tertiary); }
  .nav-card-sub {
    font-family: var(--font-mc-seven);
    font-size: 10px;
    color: var(--color-scorpion);
    text-shadow: 2px 2px 0 rgba(0,0,0,.6);
  }
  .nav-card.wide { grid-column: 1 / -1; }
  .nav-card.accent { border-color: rgba(60,133,39,.4); }
  .nav-card.accent:hover { border-color: var(--color-primary-lt); }

  /* ── Rules section ── */
  .rules-section {
    margin-top: 56px;
    width: 100%;
    max-width: 600px;
  }
  .rules-title {
    font-family: var(--font-mc-ten);
    font-size: 22px;
    color: var(--color-tertiary);
    text-shadow: 3px 3px 0 rgba(0,0,0,.6);
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
    margin-bottom: 16px;
  }
  .rules-list {
    list-style: none;
    background: rgba(0,0,0,.35);
    border: 2px solid var(--color-tundora);
    padding: 16px 24px;
  }
  .rules-list li {
    font-family: var(--font-body);
    font-size: 14px;
    color: var(--color-hint);
    padding: 8px 0;
    border-bottom: 1px solid rgba(255,255,255,.06);
    display: flex;
    gap: 10px;
    align-items: baseline;
  }
  .rules-list li:last-child {
    border-bottom: none;
  }
  .rule-num {
    font-family: var(--font-mc-five);
    font-size: 11px;
    color: var(--color-dusty);
    flex-shrink: 0;
    min-width: 20px;
  }
  .rules-burger {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-top: 16px;
    padding: 12px 20px;
    background: rgba(60,133,39,.1);
    border: 2px solid rgba(60,133,39,.25);
  }
  .rules-burger img {
    width: 28px;
    height: 28px;
    image-rendering: pixelated;
  }
  .rules-burger span {
    font-family: var(--font-mc-seven);
    font-size: 15px;
    color: var(--color-tertiary);
    text-shadow: 2px 2px 0 rgba(0,0,0,.5);
  }

  /* ═══ FOOTER ═══ */
  .site-footer {
    text-align: center;
    padding: 40px 24px 32px;
    border-top: 3px solid var(--color-tundora);
  }

  /* ── Creeper artwork ── */
  .creeper-art {
    position: relative;
    display: inline-block;
    cursor: pointer;
    margin-bottom: 16px;
  }
  .creeper-art img {
    width: 64px;
    height: auto;
    opacity: .3;
    filter: brightness(1.4);
    transition: opacity .3s, transform .15s;
    image-rendering: pixelated;
  }
  .creeper-art:hover img {
    opacity: .5;
  }
  .creeper-art img.squish {
    transform: scaleY(0.7) scaleX(1.15);
    opacity: .55;
  }

  /* ── Creeper popup ── */
  .creeper-popup {
    position: absolute;
    bottom: calc(100% + 10px);
    left: 50%;
    transform: translateX(-50%) scale(0.7);
    background: rgba(29,30,30,.95);
    border: 2px solid var(--color-tundora);
    padding: 8px 18px;
    white-space: nowrap;
    font-family: var(--font-mc-seven);
    font-size: 18px;
    color: var(--color-tertiary);
    text-shadow: 2px 2px 0 rgba(0,0,0,.5);
    opacity: 0;
    pointer-events: none;
    transition: opacity .25s, transform .25s;
    z-index: 10;
  }
  .creeper-popup::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: var(--color-tundora);
  }
  .creeper-popup.show {
    opacity: 1;
    transform: translateX(-50%) scale(1);
  }

  .footer-text {
    font-family: var(--font-mc-five);
    font-size: 10px;
    color: var(--color-scorpion);
    letter-spacing: 1px;
  }

  /* ═══ RESPONSIVE ═══ */
  @media (max-width: 640px) {
    .site-header { min-height: 200px; background-size: auto 200px; }
    .header-logo { width: 320px; }
    .main-content { padding: 32px 16px 32px; }
    .server-ip {
      font-size: 16px;
      padding: 12px 16px;
      letter-spacing: 1px;
      word-break: break-all;
    }
    .server-ip-label { font-size: 11px; }
    .edition-toggle { flex-direction: column; gap: 8px; }
    .edition-btn { padding: 12px 24px; font-size: 14px; }
    .nav-grid { grid-template-columns: 1fr; }
    .nav-card.wide { grid-column: 1; }
    .rules-section { margin-top: 40px; }
    .rules-title { font-size: 18px; }
    .rules-list { padding: 12px 16px; }
    .rules-burger { flex-direction: column; gap: 6px; }
    .rules-burger span { font-size: 13px; text-align: center; }
  }
</style>
</head>
<body>

<!-- ═══ HEADER ═══ -->
<header class="site-header">
  <a href="index.html"><img class="header-logo" src="minecraft_title.png" alt="PlayTanuki"></a>
</header>

<!-- ═══ MAIN ═══ -->
<main class="main-content">

  <!-- Server Status -->
  <div class="server-status" id="serverStatus">
    <span class="status-dot" id="statusDot"></span>
    <span id="statusText">Проверяем...</span>
  </div>

  <!-- Server IP -->
  <div class="server-ip-box">
    <div class="server-ip-label">IP-адрес сервера</div>
    <div class="server-ip" id="serverIp" onclick="copyIp()">
      server.playtanuki.fun
      <div class="server-ip-copied" id="copiedToast">Скопировано!</div>
    </div>
  </div>

  <!-- Edition Toggle -->
  <div class="edition-toggle">
    <button class="edition-btn active" id="btnJava" onclick="switchEdition('java')">Java Edition</button>
    <button class="edition-btn inactive" id="btnBedrock" onclick="switchEdition('bedrock')">Bedrock Edition</button>
  </div>
  <div class="edition-info" id="editionInfo">Версия: <span>1.21.11+</span></div>

  <!-- Navigation Grid -->
  <div class="nav-grid" id="navGrid">
    <!-- Commands — always visible -->
    <a class="nav-card" href="tanuki-commands.html">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/></svg>
      <span class="nav-card-label">Команды</span>
      <span class="nav-card-sub">TanukiEssentials</span>
    </a>

    <!-- Server — always visible -->
    <a class="nav-card" href="server.html">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25A2.25 2.25 0 015.25 3h13.5A2.25 2.25 0 0121 5.25z"/></svg>
      <span class="nav-card-label">Сервер</span>
      <span class="nav-card-sub">Карта, чат, онлайн</span>
    </a>

    <!-- Guest: Register + Login -->
    <a class="nav-card accent" href="register.html" id="navRegister">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"/></svg>
      <span class="nav-card-label">Регистрация</span>
      <span class="nav-card-sub">Подать заявку</span>
    </a>

    <a class="nav-card accent" href="profile.html" id="navLogin">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"/></svg>
      <span class="nav-card-label">Войти</span>
      <span class="nav-card-sub">Личный кабинет</span>
    </a>

    <!-- Logged in: Profile + Logout -->
    <a class="nav-card accent" href="profile.html" id="navProfile" style="display:none;">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"/></svg>
      <span class="nav-card-label" id="navProfileName">Профиль</span>
      <span class="nav-card-sub">Личный кабинет</span>
    </a>

    <a class="nav-card" href="#" id="navLogout" style="display:none;" onclick="doLogout(); return false;">
      <svg class="nav-card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"/></svg>
      <span class="nav-card-label">Выйти</span>
      <span class="nav-card-sub"></span>
    </a>
  </div>

  <!-- Server Rules -->
  <div class="rules-section">
    <div class="rules-title">Правила Сервера</div>
    <ol class="rules-list">
      <li><span class="rule-num">1.</span> Уважайте других игроков</li>
      <li><span class="rule-num">2.</span> Не гриферите и не воруйте</li>
      <li><span class="rule-num">3.</span> Не используйте читы и эксплойты</li>
      <li><span class="rule-num">4.</span> Не спамьте в чате</li>
      <li><span class="rule-num">5.</span> Слушайте администрацию</li>
    </ol>
    <div class="rules-burger">
      <img src="Burger.png" alt="Burger">
      <span>Кто себя хорошо ведет, получит Бургер!</span>
    </div>
  </div>

</main>

<!-- ═══ FOOTER ═══ -->
<footer class="site-footer">
  <div class="creeper-art" id="creeperArt" onclick="creeperClick()">
    <img src="Creeper-Artwork.png" alt="Creeper">
    <div class="creeper-popup" id="creeperPopup"></div>
  </div>
  <div class="footer-text">Создано Fekyat/Фекиат</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // ── Session check ──
  (function() {
    var SUPABASE_URL = 'https://bdwrvonkykccirctxrcc.supabase.co';
    var SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkd3J2b25reWtjY2lyY3R4cmNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NDUwOTIsImV4cCI6MjA4NjEyMTA5Mn0.2OuWJw0PzOAhItibqfynmIFHz7bLAUSyBOyPrigDE6A';
    var db = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    var id = localStorage.getItem('player_id');
    var hash = localStorage.getItem('player_hash');

    if (id && hash) {
      db.from('players').select('username').eq('id', id).eq('password_hash', hash).single()
        .then(function(res) {
          if (res.data) {
            // Logged in — show profile + logout, hide register + login
            document.getElementById('navRegister').style.display = 'none';
            document.getElementById('navLogin').style.display = 'none';
            document.getElementById('navProfile').style.display = '';
            document.getElementById('navLogout').style.display = '';
            document.getElementById('navProfileName').textContent = res.data.username;
          }
        });
    }
  })();

  function doLogout() {
    localStorage.removeItem('player_id');
    localStorage.removeItem('player_hash');
    location.reload();
  }

  // ── Edition toggle ──
  function switchEdition(edition) {
    const btnJava = document.getElementById('btnJava');
    const btnBedrock = document.getElementById('btnBedrock');
    const info = document.getElementById('editionInfo');

    if (edition === 'java') {
      btnJava.className = 'edition-btn active';
      btnBedrock.className = 'edition-btn inactive';
      info.innerHTML = 'Версия: <span>1.21.11+</span>';
    } else {
      btnBedrock.className = 'edition-btn active';
      btnJava.className = 'edition-btn inactive';
      info.innerHTML = 'Версия: <span>1.21.11+</span> &nbsp;|&nbsp; Port: <span>25605</span>';
    }
  }

  // ── Copy IP ──
  function copyIp() {
    const ip = 'server.playtanuki.fun';
    navigator.clipboard.writeText(ip).then(function() {
      const toast = document.getElementById('copiedToast');
      toast.classList.add('show');
      setTimeout(function() { toast.classList.remove('show'); }, 1500);
    }).catch(function() {
      // fallback: text is already user-selectable
    });
  }

  // ── Server status ──
  (function checkStatus() {
    fetch('https://api.mcsrvstat.us/3/server.playtanuki.fun')
      .then(function(r) { return r.json(); })
      .then(function(d) {
        var dot = document.getElementById('statusDot');
        var txt = document.getElementById('statusText');
        if (d.online) {
          dot.className = 'status-dot online';
          var players = d.players ? d.players.online : 0;
          var max = d.players ? d.players.max : '?';
          txt.textContent = '\u041E\u043D\u043B\u0430\u0439\u043D: ' + players + '/' + max;
        } else {
          dot.className = 'status-dot offline';
          txt.textContent = '\u041E\u0444\u0444\u043B\u0430\u0439\u043D';
        }
      })
      .catch(function() {
        document.getElementById('statusDot').className = 'status-dot offline';
        document.getElementById('statusText').textContent = '\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D';
      });
  })();

  // ── Creeper click popup ──
  var creeperSounds = [
    '\u0428\u0448\u0448\u0448...',
    '\u0411\u0443\u043C?',
    '\u041D\u044F!',
    '\u041D\u0435 \u043F\u043E\u0434\u0445\u043E\u0434\u0438...',
    '\u041E\u0431\u043D\u0438\u043C\u0430\u0448\u043A\u0438?',
    '\u041C\u043D\u0435 \u043E\u0434\u0438\u043D\u043E\u043A\u043E...',
    '\u0411\u0430\u0431\u0430\u0445!',
    '\u042F \u0441\u0442\u0435\u0441\u043D\u044F\u044E\u0441\u044C...',
    '\u0421\u0441\u0441\u0441...',
    '\u041C\u0443\u0440~',
    '\u041D\u0435 \u0431\u0435\u0439 \u043C\u0435\u043D\u044F!',
    '\u042F \u043D\u0435 \u0432\u0437\u043E\u0440\u0432\u0443\u0441\u044C... \u043D\u0430\u0432\u0435\u0440\u043D\u043E\u0435',
    '\u041D\u0443\u0443\u0443~',
    '\u0422\u044B \u0442\u0430\u043A\u043E\u0439 \u0442\u0451\u043F\u043B\u044B\u0439...',
    '\u0425\u043E\u0447\u0443 \u0432\u0437\u043E\u0440\u0432\u0430\u0442\u044C\u0441\u044F \u043E\u0442 \u0441\u0447\u0430\u0441\u0442\u044C\u044F!',
    '\u041F\u043E\u0433\u043B\u0430\u0434\u044C \u043C\u0435\u043D\u044F...',
    '\u042F \u043D\u0435 \u0441\u0442\u0440\u0430\u0448\u043D\u044B\u0439!',
    '\u0428\u0448\u0448... \u044D\u0442\u043E \u043A\u043E\u043C\u043F\u043B\u0438\u043C\u0435\u043D\u0442'
  ];
  var creeperTimeout = null;

  function creeperClick() {
    var popup = document.getElementById('creeperPopup');
    var img = document.querySelector('.creeper-art img');
    var sound = creeperSounds[Math.floor(Math.random() * creeperSounds.length)];

    // Reset if already showing
    if (creeperTimeout) {
      clearTimeout(creeperTimeout);
      popup.classList.remove('show');
    }

    popup.textContent = sound;

    // Squish the creeper
    img.classList.add('squish');
    setTimeout(function() { img.classList.remove('squish'); }, 200);

    // Show popup
    requestAnimationFrame(function() {
      requestAnimationFrame(function() {
        popup.classList.add('show');
        creeperTimeout = setTimeout(function() {
          popup.classList.remove('show');
          creeperTimeout = null;
        }, 2000);
      });
    });
  }
</script>

</body>
</html>
